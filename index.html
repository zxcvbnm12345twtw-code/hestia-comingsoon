<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HESTIA — Intro</title>
  <link rel="icon" href="/favicon.png" type="image/png" sizes="32x32" />
  <link rel="apple-touch-icon" href="/favicon.png" />
  <meta name="description" content="HESTIA Intro Video">
  <style>
    html,body{margin:0;height:100%;background:#000;overflow:hidden}
    .stage{position:fixed;inset:0}
    video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .6s ease}
    video.ready{opacity:1}
    /* 若使用者偏好減少動態，直接跳過影片 */
    @media (prefers-reduced-motion: reduce){
      video{display:none}
    }
  </style>
</head>
<body>
  <div class="stage">
    <video id="intro" autoplay muted playsinline preload="auto">
      <!-- 你的影片現在在根目錄；若移到 /assets/ 就改 src="/assets/hero.mp4" -->
      <source src="/781088592.837947.mp4" type="video/mp4" />
    </video>
  </div>

  <script>
    const NEXT_URL = "/home.html";
    const AUTO_FALLBACK_MS = 12000; // 防呆：12 秒後一定進入首頁（可依影片長度調整）

    const v = document.getElementById('intro');

    function goNext(){ location.href = NEXT_URL; }

    // 影片可播時淡入
    v.addEventListener('canplay', ()=> v.classList.add('ready'), {once:true});
    // 播放結束自動進入
    v.addEventListener('ended', goNext);

    // 保底：若抓不到 duration 或行動裝置阻擋，超時自動進入
    setTimeout(goNext, AUTO_FALLBACK_MS);

    // 瀏覽器/使用者偏好減少動態 → 直接進入
    try{
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        goNext();
      }
    }catch(e){}
  </script>
</body>
</html>
