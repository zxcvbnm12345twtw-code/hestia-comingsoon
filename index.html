<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>HESTIA — 即將到來</title>
<style>
  :root{
    --black-0:#000000;
    --black-1:#040404;
    --rose-deep:#1d1013;
    --rose-mid:#441d2a;
    --rose-hot:#8f3e56;
    --accent:#E67690;   /* 粉色 */
    --accent-d:#cf5b79; /* 深色 */
  }

  html,body{
    margin:0;
    height:130svh;
    overflow-x:hidden;
    color:#fff;
    font-family:ui-sans-serif,-apple-system,"Segoe UI",Roboto,"Noto Sans TC","PingFang TC","Microsoft JhengHei","Heiti TC",Arial,sans-serif;
  }

  /* 背景呼吸 */
  body{
    background:
      linear-gradient(180deg,
        var(--black-0) 0%,
        var(--black-0) 36%,
        var(--black-1) 62%,
        var(--rose-deep) 80%,
        var(--rose-mid) 94%,
        color-mix(in oklab, var(--rose-hot) 88%, transparent) 100%
      ),
      radial-gradient(92% 66% at 50% 118%,
        color-mix(in oklab, var(--rose-hot) 85%, transparent) 0%,
        color-mix(in oklab, var(--rose-mid) 50%, transparent) 44%,
        transparent 72%
      );
    background-size:100% 120%,120% 120%;
    animation: drift 16s ease-in-out infinite alternate;
  }
  @keyframes drift{
    0%{background-position:50% 0%,50% 105%;filter:brightness(1.0);}
    100%{background-position:50% 24%,50% 92%;filter:brightness(1.06);}
  }

  .glow{position:fixed;inset:0;pointer-events:none;mix-blend-mode:screen;opacity:.2;
    background:radial-gradient(120% 80% at 50% 122%,rgba(255,170,190,.55) 0%,rgba(255,170,190,0) 70%);
    animation:flicker 2.5s ease-in-out infinite alternate;}
  @keyframes flicker{0%{opacity:.12;filter:blur(.6px);}100%{opacity:.24;filter:blur(1.6px);}}

/* 主視覺 */
  .center{
    position:fixed; top:50%; left:50%;
    transform:translate(-50%,-50%);
    text-align:center; transition:transform .6s ease;
  }
  .logo{width:clamp(120px,26vw,220px);margin-bottom:-14px;filter:drop-shadow(0 10px 28px rgba(0,0,0,.45));}
  .wordmark{width:clamp(260px,60vw,560px);margin-bottom:-10px;filter:drop-shadow(0 8px 22px rgba(0,0,0,.42));}

  /* 即將到來：加強呼吸 */
  .sub{
    margin:0;
    font-weight:300;
    letter-spacing:.22em;
    font-size:clamp(18px,2.4vw,26px);
    text-shadow:0 2px 12px rgba(0,0,0,.45);
    animation:breathe 6s ease-in-out infinite;
  }
  @keyframes breathe{
    0%,100%{opacity:.4;text-shadow:0 0 8px rgba(230,118,144,.4);}
    50%{opacity:1;text-shadow:0 0 36px rgba(230,118,144,1);}
  }

  /* 下滑箭頭（置於 LOGO 下） */
  .arrow{
    font-size:24px;
    margin-top:20px;
    opacity:.7;
    animation:arrowFloat 2.6s ease-in-out infinite;
    transition: opacity .4s ease, visibility .4s ease;
  }
  @keyframes arrowFloat{
    0%,100%{transform:translateY(0);}
    50%{transform:translateY(8px);}
  }
  .arrow.hide{opacity:0;visibility:hidden;}

  /* 訂閱框浮現 */
  .subscribe{opacity:0;transform:translateY(80px);transition:opacity 1s ease,transform 1s ease;margin-top:40px;}
  .subscribe.in{opacity:1;transform:translateY(0);}

  .form-shell{width:100%;display:flex;justify-content:center;margin-top:20px;}
  form{width:100%;max-width:720px;display:flex;gap:12px;justify-content:center;align-items:center;}
  input[type="email"]{
    flex:none;width:50%;min-width:260px;height:54px;
    border-radius:14px;border:none;outline:none;
    padding:0 20px;font-size:18px;color:#222;background:#fff;
    box-shadow:0 10px 28px rgba(0,0,0,.28);}
  input::placeholder{color:#8c8c8c;}

  /* 按鈕 */
  button{
    flex:1;height:56px;min-height:56px;
    padding:0 18px;border:none;border-radius:12px;
    font-weight:700;font-size:16px;color:#fff;
    background:var(--accent);
    display:inline-flex;align-items:center;justify-content:center;
    animation:btnGlow 3.6s ease-in-out infinite alternate;
  }
  @keyframes btnGlow{
    0%{box-shadow:0 0 10px rgba(230,118,144,.30);}
    50%{box-shadow:0 0 24px rgba(230,118,144,.60);}
    100%{box-shadow:0 0 10px rgba(230,118,144,.30);}
  }
  button:hover{background:var(--accent-d);}

  .links{display:flex;flex-direction:column;align-items:center;gap:12px;margin-top:20px;}
  .ig-icon{width:28px;height:28px;}

  /* 手機版 */
  @media (max-width:520px){
    form{flex-direction:column;gap:10px;}
    input[type="email"]{width:50%;min-width:220px;height:52px;font-size:17px;align-self:center;}
    button{width:50%;height:40px;min-height:40px;font-size:15px;align-self:center;}
  }
</style>
</head>
<body>
  <div class="glow"></div>

  <div class="center" id="center">
    <img class="logo" src="logo.png" alt="HESTIA flame mark" />
    <img class="wordmark" src="wordmark.png" alt="HESTIA wordmark" />
    <h2 class="sub">即將到來</h2>
    <div class="arrow" id="arrow">↓</div>

    <div class="subscribe" id="subscribe">
      <div class="form-shell">
        <form id="notify" autocomplete="off">
          <input id="email" type="email" placeholder="訂閱以獲得最新消息" aria-label="Email" required />
          <button type="submit">立即訂閱</button>
        </form>
      </div>
      <div class="links">
        <a href="https://www.instagram.com/hestia.active/" target="_blank" aria-label="Instagram" rel="noopener">
          <svg class="ig-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Z" stroke="white" stroke-width="1.5"/>
            <circle cx="12" cy="12" r="3.8" stroke="white" stroke-width="1.5"/>
            <circle cx="17.5" cy="6.5" r="1.2" fill="white"/>
          </svg>
        </a>
        <a href="https://lin.ee/kjso8Ba" target="_blank" aria-label="加入 LINE 好友" rel="noopener">
          <img src="https://scdn.line-apps.com/n/line_add_friends/btn/zh-Hant.png" alt="加入好友" height="36" />
        </a>
      </div>
    </div>
  </div>

<script>
  const center = document.getElementById('center');
  const subscribe = document.getElementById('subscribe');
  const arrow = document.getElementById('arrow');

  /* ✅ 用你的 Apps Script Web App /exec URL */
  const API_URL = 'https://script.google.com/a/macros/bauslin.com.tw/s/AKfycby0W12F-U4JnhRxnK6SuKkHaaNcNHYws-gP0_Qqj6CgLU0NQw07x788qHy1swwbArpMfA/exec';

  window.addEventListener('scroll', ()=>{
    const scrolled = window.scrollY;
    center.style.transform = `translate(-50%, calc(-50% - ${scrolled*0.2}px))`;
    if(scrolled > window.innerHeight*0.15){
      subscribe.classList.add('in');
      arrow?.classList.add('hide');
    }else{
      subscribe.classList.remove('in');
      arrow?.classList.remove('hide');
    }
  });

  // 攔截 submit 並送到 Apps Script（避免 CORS 預檢）
  document.getElementById('notify').addEventListener('submit', async (e)=>{
    e.preventDefault();
    const input = document.getElementById('email');
    const email = input.value.trim();
    if(!email) return;

    const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    if(!ok){ alert('請輸入有效的 Email'); return; }

    try {
      const body = new URLSearchParams({
        email,
        source: 'comingsoon',
        userAgent: navigator.userAgent
      });

      const res = await fetch(API_URL, {
        method: 'POST',
        // 不要手動設定 Content-Type，瀏覽器會自帶 x-www-form-urlencoded，避免預檢
        body
      });

      // 期望後端回傳 JSON：{ ok: true/false, ... }
      const data = await res.json();
      if(data.ok){
        input.value = '';
        alert('訂閱成功！我們將在第一時間通知你最新消息。');
      }else{
        alert(data.error || '送出失敗，請稍後再試。');
      }
    } catch (err) {
      alert('連線異常，請稍後再試');
    }
  });
</script>
</body>
</html>
